import{I as v,a as S}from"./IconMail-DCQdTgWz.js";import{_ as u,z as d,o as r,b as f,r as m,f as _,w as C,s as z,B as h,$ as I,c as p,a as w,v as E,e as y,d as l,a0 as b,l as g,t as T}from"./appInit-CGHXFw0-.js";import{I as N}from"./IconArrowRight-CAdyv1A0.js";import{I as R}from"./IconEye-CnVKG0J1.js";import{I as M}from"./IconX-CVTrmr_B.js";const W={name:"IconMail",components:{TablerIconMail:v},props:{size:{type:[Number,String],default:24},strokeWidth:{type:[Number,String],default:2},customClass:{type:String,default:""}}};function $(e,s,t,o,n,c){const a=m("TablerIconMail");return r(),d(a,{size:t.size,"stroke-width":t.strokeWidth,class:f(t.customClass)},null,8,["size","stroke-width","class"])}const te=u(W,[["render",$]]),A={name:"IconArrowRight",components:{TablerIconArrowRight:N},props:{size:{type:[Number,String],default:24},strokeWidth:{type:[Number,String],default:2},customClass:{type:String,default:""}}};function x(e,s,t,o,n,c){const a=m("TablerIconArrowRight");return r(),d(a,{size:t.size,"stroke-width":t.strokeWidth,class:f(t.customClass)},null,8,["size","stroke-width","class"])}const oe=u(A,[["render",x]]),H={name:"IconEye",components:{TablerIconEye:R},props:{size:{type:[Number,String],default:24},strokeWidth:{type:[Number,String],default:2},customClass:{type:String,default:""}}};function B(e,s,t,o,n,c){const a=m("TablerIconEye");return r(),d(a,{size:t.size,"stroke-width":t.strokeWidth,class:f(t.customClass)},null,8,["size","stroke-width","class"])}const se=u(H,[["render",B]]),O={name:"IconEyeOff",components:{TablerIconEyeOff:S},props:{size:{type:[Number,String],default:24},strokeWidth:{type:[Number,String],default:2},customClass:{type:String,default:""}}};function P(e,s,t,o,n,c){const a=m("TablerIconEyeOff");return r(),d(a,{size:t.size,"stroke-width":t.strokeWidth,class:f(t.customClass)},null,8,["size","stroke-width","class"])}const ne=u(O,[["render",P]]);function V(e){return e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e):!1}const ae=e=>V(e),ie=e=>!!e&&(typeof e!="string"||e.trim()!==""),L={name:"AuthPopup",components:{IconX:M},props:{showPopup:{type:Boolean,default:!1},title:{type:String,default:""},content:{type:String,default:""},cooldownHours:{type:Number,default:24},closeWaitSeconds:{type:Number,default:0}},emits:["close"],setup(e,{emit:s}){const t=_(!1),o=_(0);let n=null;const c=()=>{n&&clearInterval(n),e.closeWaitSeconds>0?(o.value=e.closeWaitSeconds,n=setInterval(()=>{o.value>0?o.value-=1:clearInterval(n)},1e3)):o.value=0},a=()=>{if(!(o.value>0)){if(t.value=!1,e.cooldownHours>0){const i=new Date().getTime();localStorage.setItem("auth_popup_close_time",i.toString())}s("close")}};return C(()=>e.showPopup,i=>{i?setTimeout(()=>{t.value=!0,c()},1e3):(t.value=!1,n&&clearInterval(n))},{immediate:!0}),z(()=>{n&&clearInterval(n)}),{show:t,attemptClose:a,waitTimeRemaining:o}}},D={key:0,class:"auth-popup-container"},X={class:"auth-popup-header"},q=["innerHTML"],F={class:"auth-popup-content"},U=["innerHTML"],j={class:"auth-popup-footer"},G=["disabled"];function J(e,s,t,o,n,c){const a=m("IconX");return r(),d(I,{name:"fade"},{default:h(()=>[o.show?(r(),p("div",{key:0,class:"auth-popup-overlay",onClick:s[2]||(s[2]=E((...i)=>o.attemptClose&&o.attemptClose(...i),["self"]))},[y(I,{name:"popup-slide"},{default:h(()=>[o.show?(r(),p("div",D,[l("div",X,[l("h2",{class:"popup-title",innerHTML:t.title},null,8,q),l("button",{class:"popup-close-btn",onClick:s[0]||(s[0]=(...i)=>o.attemptClose&&o.attemptClose(...i))},[y(a,{size:20})])]),l("div",F,[l("div",{innerHTML:t.content},null,8,U)]),l("div",j,[l("button",{class:"popup-action-btn",onClick:s[1]||(s[1]=(...i)=>o.attemptClose&&o.attemptClose(...i)),disabled:o.waitTimeRemaining>0},[o.waitTimeRemaining>0?(r(),p(b,{key:0},[g(T(e.$t("auth.popup.wait_close_btn",{seconds:o.waitTimeRemaining})),1)],64)):(r(),p(b,{key:1},[g(T(e.$t("auth.popup.close_btn")),1)],64))],8,G)])])):w("",!0)]),_:1})])):w("",!0)]),_:1})}const re=u(L,[["render",J],["__scopeId","data-v-660528d7"]]);let k=!1;function le(e){if(!e||!e.enabled||k)return!1;if(e.cooldownHours>0){const s=localStorage.getItem("auth_popup_close_time");if(s){const o=new Date().getTime()-parseInt(s),n=e.cooldownHours*60*60*1e3;if(o<n)return!1}}return k=!0,!0}export{re as A,ne as I,se as a,oe as b,te as c,ae as d,V as i,le as s,ie as v};
