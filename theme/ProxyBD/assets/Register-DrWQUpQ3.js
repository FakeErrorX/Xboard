import{_ as we,I as ye,L as Ce,k as ve,c as d,o as i,d as t,a as g,e as _,n as _e,b as x,t as l,r as C,v as Q,l as k,x as E,y as X,z as A,A as ae,P as ke,B as be,p as Te,f as w,C as q,E as b,g as T,U as D,F as Z,h as Ie,G as Pe,H as Le,j as Se,J as Me,i as Ee,S as Re,K as Ve,R as Ae,N as qe,O as De}from"./appInit-CGHXFw0-.js";import{A as Ne,I as Ue,a as He,b as Be,c as Fe,s as Ge,i as $}from"./authPopupState-BwxecuRU.js";import{I as xe,a as Oe}from"./IconSend-ChvXYojB.js";import{I as Ke}from"./IconTicket-DDgHub1X.js";import"./index-sC8Xq0xY.js";import"./IconMail-DCQdTgWz.js";import"./IconArrowRight-CAdyv1A0.js";import"./IconEye-CnVKG0J1.js";import"./IconX-CVTrmr_B.js";import"./IconSend-BZHPAH8O.js";import"./IconTicket-DomXdQwZ.js";window.onCaptchaVerified=function(s){window._registerInstance&&window._registerInstance.handleCaptchaResponse(s)};window.onCaptchaModalVerified=function(s){window._registerInstance&&window._registerInstance.handleCaptchaModalResponse(s)};let N=!1;const je=()=>{const s=new Date().getHours();return s>=5&&s<12?"Good Morning":s>=12&&s<18?"Good Afternoon":s>=18&&s<22?"Good Evening":"Good Night"},We={name:"RegisterView",components:{ThemeToggle:ve,LanguageSelector:Ce,IconMail:Fe,IconCode:Oe,IconLock:ye,IconTicket:Ke,IconSend:xe,IconArrowRight:Be,IconEye:He,IconEyeOff:Ue,AuthPopup:Ne},setup(){const{t:s}=Te(),a=Se(),{showToast:v}=Pe(),e=w(!1),U=w(!0),O=w(!1),I=w(0),P=w(!1),R=w(!1),L=w(""),V=w(!1),S=w(!1),H=q({title:b.popup?.title||"",content:b.popup?.content||"",cooldownHours:b.popup?.cooldownHours||24,closeWaitSeconds:b.popup?.closeWaitSeconds||0}),B=()=>{S.value=!1},F=w("./images/logo.png"),K=()=>{F.value="/images/logo.png"},j=T(()=>{const o=D?.splitLayout?.leftContent?.backgroundImage||"";return o?{"background-image":`url(${o})`,"background-position":"center","background-size":"cover","background-repeat":"no-repeat"}:{background:"var(--theme-color)"}}),W=T(()=>D?.splitLayout?.leftContent?.siteName?.show!==!1),c=T(()=>(D?.splitLayout?.leftContent?.siteName?.color||"white").toLowerCase()==="black"?"black":"white"),f=q({tos_url:"",is_email_verify:0,is_invite_force:0,email_whitelist_suffix:[],is_recaptcha:0,recaptcha_site_key:"",app_description:"",app_url:""}),h=q({type:Z.captchaType,siteKey:"",verifyUrl:Z[Z.captchaType]?.verifyUrl||""}),M=w(""),ee=De();ee&&ee.proxy&&(window._registerInstance={handleCaptchaResponse:o=>{M.value=o},handleCaptchaModalResponse:o=>{o&&typeof o=="string"&&o.trim().length>0&&(L.value=o,setTimeout(()=>{J(),Y(o)},100))}});const u=q({email:"",verificationCode:"",password:"",confirmPassword:"",inviteCode:"",agreeTerms:b.autoAgreeTerms}),m=q({email:"",verificationCode:"",password:"",confirmPassword:"",inviteCode:"",agreeTerms:""}),se=w(!1),ne=w(!1),re=T(()=>f.is_recaptcha===1),z=async()=>{try{U.value=!0;const o=await Ve();o&&o.data&&(Object.assign(f,o.data),f.is_recaptcha===1&&(h.siteKey=f.recaptcha_site_key))}catch{v(s("messages.configLoadFailed"),"error")}finally{U.value=!1}},ie=()=>{R.value=!0,L.value="",(async()=>{setTimeout(()=>{if(h.type==="google"&&window.grecaptcha){const r=document.getElementById("modal-recaptcha");r&&(r.innerHTML="",window.grecaptcha.render("modal-recaptcha",{sitekey:h.siteKey,callback:"onCaptchaModalVerified",theme:document.body.classList.contains("dark-theme")?"dark":"light"}))}else if(h.type==="cloudflare"&&window.turnstile){const r=document.getElementById("modal-turnstile");if(r){if(r.innerHTML="",window.turnstile.reset)try{window.turnstile.reset()}catch{console.log("Unable to reset Turnstile captcha, re-rendering")}try{window.turnstile.render("#modal-turnstile",{sitekey:h.siteKey,callback:function(n){window._registerInstance&&window._registerInstance.handleCaptchaModalResponse(n)},theme:document.body.classList.contains("dark-theme")?"dark":"light",retry:"auto","retry-interval":5e3,"refresh-expired":"manual",tabindex:0,execution:"render"})}catch(n){console.error("Turnstile render error:",n);const y=document.getElementsByTagName("script");for(let p=y.length-1;p>=0;p--)y[p].src.includes("turnstile")&&y[p].parentNode.removeChild(y[p]);setTimeout(()=>{const p=document.createElement("script");p.src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=captchaScriptLoaded&render=explicit",p.async=!0,p.defer=!0,document.head.appendChild(p)},500)}}else console.error("modal-turnstile container not found")}else console.error("Captcha script not loaded or misconfigured",{type:h.type,hasGoogle:!!window.grecaptcha,hasTurnstile:!!window.turnstile})},300)})()},J=()=>{V.value=!0,setTimeout(()=>{R.value=!1,V.value=!1},300)},Y=async o=>{try{e.value=!0;const r={email:u.email,isForgetPassword:!1};o&&(r.recaptcha_data=o);const n=await qe(r);if(n&&n.data===!0){if(O.value=!0,ce(),v(n.message||s("auth.codeSent"),"success"),b.verificationCode&&b.verificationCode.showCheckSpamTip){const y=b.verificationCode.checkSpamTipDelay||1e3;setTimeout(()=>{v(s("auth.checkSpam"),"info")},y)}}else throw new Error(n.message||s("auth.sendCodeFailed"))}catch(r){v(r.response?.message||r.message||s("auth.sendCodeFailed"),"error")}finally{e.value=!1}},le=async()=>{if(m.email="",!u.email){m.email=s("auth.emailRequired");return}if(!$(u.email)){m.email=s("auth.emailInvalid");return}f.is_recaptcha===1&&h.siteKey?ie():Y()},ce=()=>{I.value=60;const o=setInterval(()=>{I.value--,I.value<=0&&clearInterval(o)},1e3)},de=()=>{let o=!0;return m.email="",m.verificationCode="",m.password="",m.confirmPassword="",m.inviteCode="",m.agreeTerms="",f.is_email_verify!==1&&(u.verificationCode=""),u.email?$(u.email)||(m.email=s("auth.emailInvalid"),o=!1):(m.email=s("auth.emailRequired"),o=!1),f.is_email_verify===1&&(u.verificationCode||(m.verificationCode=s("auth.codeRequired"),o=!1)),u.password?u.password.length<8&&(m.password=s("auth.passwordTooShort"),o=!1):(m.password=s("auth.passwordRequired"),o=!1),u.confirmPassword?u.password!==u.confirmPassword&&(m.confirmPassword=s("auth.passwordsDoNotMatch"),o=!1):(m.confirmPassword=s("auth.confirmPasswordRequired"),o=!1),f.is_invite_force===1&&!u.inviteCode&&(m.inviteCode=s("auth.inviteCodeRequired"),o=!1),u.agreeTerms||(m.agreeTerms=s("auth.mustAgreeToTerms"),o=!1),f.is_recaptcha===1&&((document.querySelector('[name="g-recaptcha-response"]')||document.querySelector('[name="cf-turnstile-response"]'))?.value||M.value||(v(s("auth.captchaRequired"),"error"),o=!1)),o},ue=async()=>{if(de())try{e.value=!0;const o={email:u.email,password:u.password};if(f.is_email_verify===1&&(o.email_code=parseInt(u.verificationCode)),u.inviteCode&&(o.invite_code=u.inviteCode),f.is_recaptcha===1){const n=document.querySelector('[name="g-recaptcha-response"]')||document.querySelector('[name="cf-turnstile-response"]');n&&n.value?o.recaptcha_data=n.value:M.value&&(o.recaptcha_data=M.value)}const r=await Ae(o);v(r.message||s("auth.registerSuccess"),"success"),setTimeout(()=>{a.push("/dashboard")},300)}catch(o){v(o.response?.message||o.message||s("auth.registerFailed"),"error"),window.grecaptcha&&window.grecaptcha.reset()}finally{e.value=!1}};Ie(()=>{const o=new URLSearchParams(window.location.search),r=new URLSearchParams(window.location.hash.replace("#","?"));if(o.has("logout")===!0||r.has("logout")===!0){if(v(s("auth.logoutSuccess"),"success"),window.history&&window.history.replaceState){const n=window.location.href.replace("?logout=true","").replace("&logout=true","");window.history.replaceState({},document.title,n)}z();return}try{if(window._isLoggingOut===!0){z();return}if(Le()){v(s("auth.alreadyLoggedIn"),"info"),setTimeout(()=>{a.push("/dashboard")},500);return}if(o.has("code"))u.inviteCode=o.get("code"),P.value=!0;else if(r.has("code"))u.inviteCode=r.get("code"),P.value=!0;else{const p=window.location.href.match(/[?&]code=([^&]+)/);p&&p[1]&&(u.inviteCode=p[1],P.value=!0)}}catch{}z().then(()=>{f.is_recaptcha===1&&oe(),S.value=Ge(b.popup)}),window.addEventListener("focus",()=>{f.is_recaptcha===1&&setTimeout(()=>{G()},300)})}),Me(()=>{f.is_recaptcha===1&&h.type==="cloudflare"&&h.siteKey&&(console.log("Register component activated, reloading Cloudflare Turnstile"),oe().then(()=>{if(window.turnstile&&window.turnstile.reset)try{window.turnstile.reset();const o=document.getElementById("form-turnstile");o&&window.turnstile.render&&(o.innerHTML="",window.turnstile.render("#form-turnstile",{sitekey:h.siteKey,callback:function(r){window._registerInstance&&window._registerInstance.handleCaptchaResponse(r)},theme:document.body.classList.contains("dark-theme")?"dark":"light",retry:"auto","retry-interval":5e3,"refresh-expired":"manual",tabindex:0,execution:"render"}))}catch(o){console.log("Turnstile reset failed, re-rendering captcha component",o);const r=document.getElementsByTagName("script");for(let n=r.length-1;n>=0;n--)r[n].src.includes("turnstile")&&r[n].parentNode.removeChild(r[n]);setTimeout(()=>{const n=document.createElement("script");n.src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=captchaScriptLoaded&render=explicit",n.async=!0,n.defer=!0,document.head.appendChild(n)},500)}}))}),Ee(()=>{if(N=!1,window.turnstile&&window.turnstile.reset)try{window.turnstile.reset()}catch(n){console.log("Turnstile reset failed",n)}const o=document.getElementById("form-turnstile");o&&(o.innerHTML="");const r=document.getElementById("modal-turnstile");r&&(r.innerHTML=""),M.value="",L.value="",window.captchaScriptLoaded=void 0,window.onCaptchaVerified=void 0,window.onCaptchaModalVerified=void 0,window._registerInstance=null});const he=o=>{M.value=o},me=o=>{o&&typeof o=="string"&&o.trim().length>0&&(L.value=o,setTimeout(()=>{J(),Y(o)},100))},G=()=>{f.is_recaptcha!==1||!h.siteKey||setTimeout(()=>{if(h.type==="google"&&window.grecaptcha){const o=document.getElementById("form-recaptcha");if(o&&!N){o.innerHTML="";try{window.grecaptcha.render("form-recaptcha",{sitekey:h.siteKey,callback:function(r){window._registerInstance&&window._registerInstance.handleCaptchaResponse(r)},theme:document.body.classList.contains("dark-theme")?"dark":"light"}),N=!0}catch(r){console.error("Google reCAPTCHA render error:",r),r.toString().includes("has already been rendered")?N=!0:N=!1}}}else if(h.type==="cloudflare"&&window.turnstile){const o=document.getElementById("form-turnstile");if(o){o.innerHTML="";try{window.turnstile.render("#form-turnstile",{sitekey:h.siteKey,callback:function(r){window._registerInstance&&window._registerInstance.handleCaptchaResponse(r)},theme:document.body.classList.contains("dark-theme")?"dark":"light",retry:"auto","retry-interval":5e3,"refresh-expired":"manual",tabindex:0,execution:"render"})}catch(r){console.error("Form captcha render error:",r)}}}},500)},oe=()=>new Promise(o=>{if(f.is_recaptcha!==1||!f.recaptcha_site_key){o();return}if(window.turnstile&&h.type==="cloudflare"){console.log("Turnstile exists, trying reset instead of reloading script");try{window.turnstile.reset&&window.turnstile.reset();const n=document.getElementById("form-turnstile");if(n){n.innerHTML="",setTimeout(()=>{window.turnstile.render("#form-turnstile",{sitekey:h.siteKey,callback:"onCaptchaVerified",theme:document.body.classList.contains("dark-theme")?"dark":"light","refresh-expired":"auto"}),o()},100);return}}catch(n){console.error("Failed to reset Turnstile, will try to reload script",n)}}if((()=>{const n=document.getElementById("form-recaptcha");n&&(n.innerHTML="");const y=document.getElementById("form-turnstile");y&&(y.innerHTML="");const p=document.getElementById("modal-recaptcha");p&&(p.innerHTML="");const te=document.getElementById("modal-turnstile");te&&(te.innerHTML="")})(),!window.turnstile||h.type!=="cloudflare"){const n=document.createElement("script");if(h.type==="google"){const y="https://www.recaptcha.net";n.src=`${y}/recaptcha/api.js?onload=captchaScriptLoaded&render=explicit`}else h.type==="cloudflare"&&(n.src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=captchaScriptLoaded&render=explicit");n.async=!0,n.defer=!0,window.captchaScriptLoaded=()=>{console.log("Captcha script loaded"),G(),setTimeout(()=>{o()},100)},document.head.appendChild(n)}else G(),o()}),fe=T(()=>D?.splitLayout?.leftContent?.greeting?.show!==!1),pe=T(()=>je()),ge=T(()=>(D?.splitLayout?.leftContent?.greeting?.color||"white").toLowerCase()==="black"?"black":"white");return{formData:u,errors:m,loading:e,configLoading:U,codeSent:O,cooldown:I,sendVerificationCode:le,handleRegister:ue,isValidEmail:$,showPassword:se,showConfirmPassword:ne,config:f,inviteCodeFromUrl:P,logoPath:F,handleLogoError:K,captchaConfig:h,handleCaptchaResponse:he,showCaptchaModal:R,closeCaptchaModal:J,handleCaptchaModalResponse:me,needCaptchaForEmailVerify:re,isClosingModal:V,renderFormCaptcha:G,leftSideStyles:j,showSiteName:W,siteNameColorClass:c,SITE_CONFIG:Re,showGreeting:fe,greetingMessage:pe,greetingColorClass:ge,showAuthPopup:S,authPopupConfig:H,handleAuthPopupClose:B}}},ze={class:"register-view-container"},Je={class:"auth-split-container"},Ye={class:"auth-split-right"},Qe={class:"top-toolbar"},Xe={key:0,class:"auth-form-container"},Ze={class:"loading-container"},$e={class:""},eo={key:1,class:"auth-form-container"},oo={class:"auth-header"},to={class:"auth-logo"},ao=["src"],so={class:"auth-title"},no={class:"auth-subtitle"},ro={class:"form-group"},io={for:"email",class:"form-label"},lo={class:"input-with-icon"},co=["placeholder","disabled"],uo={key:0,class:"error-message"},ho={key:0,class:"form-group"},mo={for:"verificationCode",class:"form-label"},fo={class:"input-with-button"},po={class:"input-with-icon verification-input"},go=["placeholder"],wo=["disabled"],yo={key:1,class:""},Co={key:2,class:""},vo={key:0,class:"error-message"},_o={class:"form-group"},ko={for:"password",class:"form-label"},bo={class:"input-with-icon"},To=["type","placeholder"],Io={key:0,class:"error-message"},Po={class:"form-group"},Lo={for:"confirmPassword",class:"form-label"},So={class:"input-with-icon"},Mo=["type","placeholder"],Eo={key:0,class:"error-message"},Ro={class:"form-group"},Vo={for:"inviteCode",class:"form-label"},Ao={key:0,class:"required"},qo={key:1,class:"optional"},Do={class:"input-with-icon"},No=["placeholder","required","disabled","readonly"],Uo={key:0,class:"error-message"},Ho={key:1,class:"form-group"},Bo={class:"form-label"},Fo={class:"captcha-container"},Go={class:"form-group agreement-checkbox"},xo={class:"checkbox-container"},Oo={class:"checkbox-label"},Ko=["href"],jo={key:0,class:"error-message"},Wo={class:"form-group"},zo=["disabled"],Jo={key:0,class:"loading-wrapper"},Yo={class:""},Qo={key:1,class:""},Xo={class:"auth-footer"},Zo={class:"auth-divider"},$o={class:"auth-divider-text"},et={class:"captcha-modal-header"},ot={class:"captcha-modal-body"},tt={key:0,class:"google-captcha"},at={key:1,class:"cloudflare-captcha"};function st(s,a,v,e,U,O){const I=C("ThemeToggle"),P=C("LanguageSelector"),R=C("IconMail"),L=C("IconCode"),V=C("IconSend"),S=C("IconLock"),H=C("IconEye"),B=C("IconEyeOff"),F=C("IconTicket"),K=C("IconArrowRight"),j=C("router-link"),W=C("AuthPopup");return i(),d("div",ze,[t("div",Je,[t("div",{class:"auth-split-left",style:_e(e.leftSideStyles)},[a[15]||(a[15]=t("div",{class:"left-content-overlay"},null,-1)),e.showSiteName?(i(),d("div",{key:0,class:x(["site-name",e.siteNameColorClass])},l(e.SITE_CONFIG.siteName),3)):g("",!0),e.showGreeting?(i(),d("div",{key:1,class:x(["greeting-text",e.greetingColorClass])},l(e.greetingMessage),3)):g("",!0)],4),t("div",Ye,[t("div",Qe,[_(I),_(P)]),e.configLoading?(i(),d("div",Xe,[t("div",Ze,[a[16]||(a[16]=t("div",{class:"loading-spinner"},null,-1)),t("p",$e,l(s.$t("common.loading")),1)])])):(i(),d("div",eo,[t("div",oo,[t("div",to,[t("img",{src:e.logoPath,alt:"Logo",onError:a[0]||(a[0]=(...c)=>e.handleLogoError&&e.handleLogoError(...c))},null,40,ao)]),t("h1",so,l(s.$t("auth.registerTitle")),1),t("p",no,l(s.$t("auth.registerSubtitle")),1)]),t("form",{class:"auth-form",onSubmit:a[12]||(a[12]=Q((...c)=>e.handleRegister&&e.handleRegister(...c),["prevent"]))},[t("div",ro,[t("label",io,[k(l(s.$t("common.email"))+" ",1),a[17]||(a[17]=t("span",{class:"required"},"*",-1))]),t("div",lo,[_(R,{class:"input-icon"}),E(t("input",{type:"email",id:"email",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=c=>e.formData.email=c),placeholder:s.$t("auth.emailPlaceholder"),disabled:e.codeSent,required:""},null,8,co),[[X,e.formData.email]])]),e.errors.email?(i(),d("span",uo,l(e.errors.email),1)):g("",!0)]),e.config.is_email_verify===1?(i(),d("div",ho,[t("label",mo,[k(l(s.$t("common.verificationCode"))+" ",1),a[18]||(a[18]=t("span",{class:"required"},"*",-1))]),t("div",fo,[t("div",po,[_(L,{class:"input-icon"}),E(t("input",{type:"text",id:"verificationCode",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=c=>e.formData.verificationCode=c),placeholder:s.$t("auth.codePlaceholder"),required:""},null,8,go),[[X,e.formData.verificationCode]])]),t("button",{type:"button",class:"send-code-btn",onClick:a[3]||(a[3]=(...c)=>e.sendVerificationCode&&e.sendVerificationCode(...c)),disabled:!e.isValidEmail(e.formData.email)||e.cooldown>0||e.loading},[e.cooldown===0?(i(),A(V,{key:0,class:"icon-left"})):g("",!0),e.cooldown>0?(i(),d("span",yo,l(e.cooldown)+"s",1)):(i(),d("span",Co,l(s.$t("common.sendCode")),1))],8,wo)]),e.errors.verificationCode?(i(),d("span",vo,l(e.errors.verificationCode),1)):g("",!0)])):g("",!0),t("div",_o,[t("label",ko,[k(l(s.$t("common.password"))+" ",1),a[19]||(a[19]=t("span",{class:"required"},"*",-1))]),t("div",bo,[_(S,{class:"input-icon"}),E(t("input",{type:e.showPassword?"text":"password",id:"password",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=c=>e.formData.password=c),placeholder:s.$t("auth.passwordPlaceholder"),required:""},null,8,To),[[ae,e.formData.password]]),t("div",{class:"password-toggle",onClick:a[5]||(a[5]=c=>e.showPassword=!e.showPassword)},[e.showPassword?(i(),A(B,{key:1})):(i(),A(H,{key:0}))])]),e.errors.password?(i(),d("span",Io,l(e.errors.password),1)):g("",!0)]),t("div",Po,[t("label",Lo,[k(l(s.$t("common.confirmPassword"))+" ",1),a[20]||(a[20]=t("span",{class:"required"},"*",-1))]),t("div",So,[_(S,{class:"input-icon"}),E(t("input",{type:e.showConfirmPassword?"text":"password",id:"confirmPassword",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=c=>e.formData.confirmPassword=c),placeholder:s.$t("auth.confirmPasswordPlaceholder"),required:""},null,8,Mo),[[ae,e.formData.confirmPassword]]),t("div",{class:"password-toggle",onClick:a[7]||(a[7]=c=>e.showConfirmPassword=!e.showConfirmPassword)},[e.showConfirmPassword?(i(),A(B,{key:1})):(i(),A(H,{key:0}))])]),e.errors.confirmPassword?(i(),d("span",Eo,l(e.errors.confirmPassword),1)):g("",!0)]),t("div",Ro,[t("label",Vo,[k(l(s.$t("auth.inviteCode"))+" ",1),e.config.is_invite_force===1?(i(),d("span",Ao,"*")):(i(),d("span",qo,l(s.$t("common.optional")),1))]),t("div",Do,[_(F,{class:"input-icon"}),E(t("input",{type:"text",id:"inviteCode",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=c=>e.formData.inviteCode=c),placeholder:s.$t("auth.inviteCodePlaceholder"),required:e.config.is_invite_force===1,disabled:e.inviteCodeFromUrl,readonly:e.inviteCodeFromUrl},null,8,No),[[X,e.formData.inviteCode]])]),e.errors.inviteCode?(i(),d("span",Uo,l(e.errors.inviteCode),1)):g("",!0)]),e.config.is_recaptcha===1?(i(),d("div",Ho,[t("label",Bo,[k(l(s.$t("auth.captcha"))+" ",1),a[21]||(a[21]=t("span",{class:"required"},"*",-1))]),t("div",Fo,[e.captchaConfig.type==="google"?(i(),d("div",{key:0,class:"google-captcha",onClick:a[9]||(a[9]=Q(()=>{},["stop"]))},[...a[22]||(a[22]=[t("div",{id:"form-recaptcha"},null,-1)])])):e.captchaConfig.type==="cloudflare"?(i(),d("div",{key:1,class:"cloudflare-captcha",onClick:a[10]||(a[10]=Q(()=>{},["stop"]))},[...a[23]||(a[23]=[t("div",{id:"form-turnstile"},null,-1)])])):g("",!0)])])):g("",!0),t("div",Go,[t("label",xo,[E(t("input",{type:"checkbox","onUpdate:modelValue":a[11]||(a[11]=c=>e.formData.agreeTerms=c)},null,512),[[ke,e.formData.agreeTerms]]),a[25]||(a[25]=t("span",{class:"checkmark"},null,-1)),t("span",Oo,[k(l(s.$t("auth.agreeToTerms"))+" ",1),t("a",{href:e.config.tos_url||"#",target:"_blank",class:""},l(s.$t("auth.termsOfService")),9,Ko),a[24]||(a[24]=t("span",{class:"required"},"*",-1))])]),e.errors.agreeTerms?(i(),d("span",jo,l(e.errors.agreeTerms),1)):g("",!0)]),t("div",Wo,[t("button",{type:"submit",class:"btn btn-primary btn-block",disabled:e.loading||!e.formData.agreeTerms},[e.loading?(i(),d("span",Jo,[t("span",Yo,l(s.$t("common.loading")),1)])):(i(),d("span",Qo,[k(l(s.$t("auth.createAccount"))+" ",1),_(K,{class:"icon-right"})]))],8,zo)])],32),t("div",Xo,[t("div",Zo,[t("span",$o,l(s.$t("auth.alreadyHaveAccount")),1)]),_(j,{to:"/login",class:"btn btn-secondary btn-block"},{default:be(()=>[k(l(s.$t("common.login")),1)]),_:1})])]))])]),e.showCaptchaModal?(i(),d("div",{key:0,class:x(["captcha-modal",{closing:e.isClosingModal}])},[t("div",{class:"captcha-modal-overlay",onClick:a[13]||(a[13]=(...c)=>e.closeCaptchaModal&&e.closeCaptchaModal(...c))}),t("div",{class:x(["captcha-modal-content",{closing:e.isClosingModal}])},[t("div",et,[t("h3",null,l(s.$t("auth.captcha")),1),t("button",{class:"close-btn",onClick:a[14]||(a[14]=(...c)=>e.closeCaptchaModal&&e.closeCaptchaModal(...c))},[...a[26]||(a[26]=[t("span",null,"×",-1)])])]),t("div",ot,[t("p",null,l(s.$t("auth.captchaRequired")),1),e.captchaConfig.type==="google"?(i(),d("div",tt,[...a[27]||(a[27]=[t("div",{id:"modal-recaptcha"},null,-1)])])):e.captchaConfig.type==="cloudflare"?(i(),d("div",at,[...a[28]||(a[28]=[t("div",{id:"modal-turnstile"},null,-1)])])):g("",!0)])],2)],2)):g("",!0),_(W,{"show-popup":e.showAuthPopup,title:e.authPopupConfig.title,content:e.authPopupConfig.content,"cooldown-hours":e.authPopupConfig.cooldownHours,"close-wait-seconds":e.authPopupConfig.closeWaitSeconds,onClose:e.handleAuthPopupClose},null,8,["show-popup","title","content","cooldown-hours","close-wait-seconds","onClose"])])}const gt=we(We,[["render",st],["__scopeId","data-v-1b4ac5db"]]);export{gt as default};
