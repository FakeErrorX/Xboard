import{Z as ee,aB as H,_ as Qe,aF as xe,a6 as $e,a7 as et,c as r,o as l,e as c,d as e,B as x,$ as ce,t as i,a0 as C,a9 as M,r as h,a as _,l as y,z as tt,aG as nt,b as I,a8 as st,p as it,C as Ce,aH as at,f as v,g as $,h as ot,s as lt,a4 as ve,G as rt,v as ke,x as ye,y as Ie}from"./appInit-CGHXFw0-.js";import{I as dt}from"./IconAlertTriangle-BKoak6h-.js";import{I as ct,a as vt,b as ht}from"./IconWallet-CVXuXzl8.js";import{I as ut}from"./IconBrandTelegram-BTkfzYu6.js";import{I as mt}from"./IconChevronDown-Dm4MbJmO.js";import{I as ft}from"./IconChevronLeft-7fcgP1Nb.js";import{I as _t}from"./IconChevronRight-BRihd1y4.js";import{I as gt}from"./IconCopy-CAlFAyvj.js";import{I as wt}from"./IconLink-f4UxE49c.js";import{I as bt}from"./IconRefresh-DEF_LKdU.js";import{I as Ct}from"./IconShare-BGDlmPSF.js";import{I as kt}from"./IconTicket-DomXdQwZ.js";import{I as yt}from"./IconX-CVTrmr_B.js";import"./index-sC8Xq0xY.js";/**
 * @license @tabler/icons-vue v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var It=ee("outline","brand-facebook","BrandFacebook",[["path",{d:"M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3",key:"svg-0"}]]);/**
 * @license @tabler/icons-vue v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pt=ee("outline","cash","Cash",[["path",{d:"M7 15h-3a1 1 0 0 1 -1 -1v-8a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v3",key:"svg-0"}],["path",{d:"M7 9m0 1a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v8a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M12 14a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var St=ee("outline","coin","Coin",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1",key:"svg-1"}],["path",{d:"M12 7v10",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dt=ee("outline","receipt","Receipt",[["path",{d:"M5 21v-16a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v16l-3 -2l-2 2l-2 -2l-2 2l-2 -2l-3 2m4 -14h6m-6 4h6m-2 4h2",key:"svg-0"}]]);/**
 * @license @tabler/icons-vue v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pt=ee("outline","users","Users",[["path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85",key:"svg-3"}]]);function Tt(){return H({url:"/user/invite/fetch",method:"get"})}function Mt(s,n){return H({url:"/user/invite/details",method:"get",params:{current:s,page_size:n}})}function Lt(){return H({url:"/user/comm/config",method:"get"})}function Ft(){return H({url:"/user/invite/save",method:"get"})}function zt(s){return H({url:"/user/transfer",method:"post",data:{transfer_amount:s}})}function At(s,n,S){return H({url:"/user/ticket/withdraw",method:"post",data:{withdraw_amount:s,withdraw_account:n,withdraw_method:S}})}const Wt={name:"InviteView",components:{IconUsers:Pt,IconCoin:St,IconWallet:ht,IconChartBar:vt,IconCopy:gt,IconBrandTelegram:ut,IconBrandFacebook:It,IconBrandDiscord:ct,IconShare:Ct,IconUserPlus:et,IconShoppingCart:$e,IconCash:pt,IconRefresh:bt,IconPlus:xe,IconLink:wt,IconX:yt,IconChevronLeft:ft,IconChevronRight:_t,IconChevronDown:mt,IconTicket:kt,IconAlertTriangle:dt,IconReceipt:Dt},setup(){const{showToast:s}=rt(),{t:n}=it(),S=Ce(at()),t=Ce({inviteData:!0,inviteDetails:!0,commConfig:!0}),X=v(!1),te=v("BDT"),A=v("৳"),w=v([]),D=v(0),k=Ce({registeredUsers:0,validCommission:0,pendingCommission:0,commissionRate:0,availableCommission:0}),L=v([]),P=v(1),F=v(S.recordsPerPage||10),W=v(0),ne=[10,20,50,100,200],R=v(!1),Y=()=>{R.value=!R.value},se=a=>{F.value!==a&&(F.value=a,P.value=1,oe(1)),R.value=!1},U=a=>{const d=document.querySelector(".page-size-selector");d&&!d.contains(a.target)&&(R.value=!1)},he=$(()=>L.value),p=$(()=>Math.ceil(W.value/F.value)),ie=$(()=>{const a=[],d=le.value?1:3;if(p.value<=d)for(let u=1;u<=p.value;u++)a.push(u);else{let u=Math.max(P.value-Math.floor(d/2),1),f=u+d-1;f>p.value&&(f=p.value,u=Math.max(f-d+1,1));for(let E=u;E<=f;E++)a.push(E)}return a}),ue=a=>{a<1?a=1:a>p.value&&(a=p.value),a!==P.value&&(P.value=a,oe(a),ve(()=>{const d=document.querySelector(".records-table-wrapper");d&&d.scrollIntoView({behavior:"smooth",block:"nearest"})}))},b=$(()=>{if(w.value.length===0||D.value>=w.value.length)return"";const a=w.value[D.value].code;if(S.inviteLinkConfig&&S.inviteLinkConfig.linkMode==="custom"){const d=S.inviteLinkConfig.customDomain;return`${d.endsWith("/")?d.slice(0,-1):d}/#/register?code=${a}`}else return`${window.location.origin}/#/register?code=${a}`}),me=async()=>{if(!X.value){X.value=!0;try{(await Ft()).data&&(await ae(),G(n("invite.inviteLink.created")))}catch(a){de(a)}finally{X.value=!1}}},fe=()=>{b.value&&navigator.clipboard.writeText(b.value).then(()=>{G(n("invite.inviteLink.copied"))}).catch(()=>{const a=document.createElement("textarea");a.value=b.value,a.style.position="fixed",document.body.appendChild(a),a.focus(),a.select();try{if(document.execCommand("copy"))G(n("invite.inviteLink.copied"));else throw new Error("Copy failed")}catch{de({message:n("common.copyFailed")})}document.body.removeChild(a)})},Z=v(!1),_e=v(""),o=v(null),g=()=>{o.value&&o.value(),Z.value=!1},V=()=>{Z.value=!1,o.value=null},ge=()=>{if(!b.value){s(n("invite.share.noLinkAvailable"),"error");return}window.open(`https://t.me/share/url?url=${encodeURIComponent(b.value)}&text=${encodeURIComponent(n("invite.share.shareDescription"))}`,"_blank")},Pe=()=>{if(!b.value){s(n("invite.share.noLinkAvailable"),"error");return}navigator.clipboard.writeText(`${n("invite.share.shareDescription")} ${b.value}`).then(()=>{s(n("invite.share.facebookCopied"),"success")}).catch(()=>{s(n("common.copyFailed"),"error")})},Te=()=>{if(!b.value){s(n("invite.share.noLinkAvailable"),"error");return}navigator.clipboard.writeText(`${n("invite.share.shareDescription")} ${b.value}`).then(()=>{s(n("invite.share.discordCopied"),"success")}).catch(()=>{s(n("common.copyFailed"),"error")})},Me=()=>{t.inviteDetails||(s(n("invite.records.refreshingData"),"info"),P.value=1,oe(1))},Le=a=>{if(!a)return"-";const d=new Date(a*1e3),u=d.getFullYear(),f=String(d.getMonth()+1).padStart(2,"0"),E=String(d.getDate()).padStart(2,"0"),Je=String(d.getHours()).padStart(2,"0"),Ke=String(d.getMinutes()).padStart(2,"0");return`${u}-${f}-${E} ${Je}:${Ke}`},Fe=a=>{switch(a){case 0:return"waiting";case 1:return"pending";case 2:return"success";case 3:return"danger";default:return"waiting"}},ze=a=>{switch(a){case 0:return n("invite.records.status.waiting");case 1:return n("invite.records.status.processing");case 2:return n("invite.records.status.confirmed");case 3:return n("invite.records.status.invalid");default:return n("invite.records.status.unknown")}},ae=async()=>{t.inviteData=!0;try{const a=await Tt();a.data&&(w.value=a.data.codes||[],a.data.stat&&(k.registeredUsers=a.data.stat[0]||0,k.validCommission=((a.data.stat[1]||0)/100).toFixed(2),k.pendingCommission=((a.data.stat[2]||0)/100).toFixed(2),k.commissionRate=a.data.stat[3]||0,k.availableCommission=((a.data.stat[4]||0)/100).toFixed(2)))}catch(a){console.error("Failed to fetch invite data:",a),s(n("invite.records.fetchDataError"),"error")}finally{t.inviteData=!1}},oe=async(a=1)=>{t.inviteDetails=!0;try{const d=Math.max(F.value,10),u=await Mt(a,d);u.data?(L.value=Array.isArray(u.data)?u.data.map(f=>({id:f.id,trade_no:f.trade_no,created_at:f.created_at,user:f.user||null,amount:f.order_amount?(f.order_amount/100).toFixed(2):"0.00",commission_amount:f.get_amount?(f.get_amount/100).toFixed(2):"0.00",commission_status:1})):[],W.value=u.total||L.value.length):(L.value=[],W.value=0)}catch(d){console.error("Failed to fetch invite details:",d),s(n("invite.records.fetchError"),"error"),L.value=[],W.value=0}finally{t.inviteDetails=!1}},Ae=async()=>{t.commConfig=!0;try{const a=await Lt();a.data&&(te.value=a.data.currency||"BDT",A.value=a.data.currency_symbol||"৳",De.value=Number(a.data.withdraw_close),j.value=a.data.withdraw_methods||[],a.data.min_withdraw_amount&&(Q.value=parseFloat(a.data.min_withdraw_amount)/100))}catch(a){console.error("Failed to fetch commission config:",a)}finally{t.commConfig=!1}},We=()=>{w.value.length>1&&(D.value=(D.value-1+w.value.length)%w.value.length)},Re=()=>{w.value.length>1&&(D.value=(D.value+1)%w.value.length)},Be=a=>{if(!a)return"";const d=new Date(a*1e3),u=d.getFullYear(),f=d.getMonth()+1,E=d.getDate();return`${u}-${f.toString().padStart(2,"0")}-${E.toString().padStart(2,"0")}`},N=v(!1),T=v(0),z=v(""),we=v(!1),Ee=$(()=>T.value<=0||T.value>k.availableCommission),Ue=()=>{B.value?(O.value="transfer",B.value=!1):(N.value=!0,T.value="",z.value="")},Ve=()=>(z.value="",!T.value||parseFloat(T.value)<=0?(z.value=n("invite.transfer.invalidAmount"),!1):parseFloat(T.value)>parseFloat(k.availableCommission)?(z.value=n("invite.transfer.insufficientFunds"),!1):!0),Ne=async()=>{if(Ve()){we.value=!0;try{const a=Math.round(parseFloat(T.value)*100),d=await zt(a);d.data===!0?(T.value=0,z.value="",G(n("invite.transfer.success")),await ae(),N.value=!1):z.value=d.message||n("invite.transfer.failure")}catch(a){de(a),z.value=a.response?.message||n("invite.transfer.failure")}finally{we.value=!1}}},qe=()=>{N.value?(O.value="withdraw",N.value=!1):(B.value=!0,J.value="",re.value="",m.value="",j.value.length>0?q.value=j.value[0]:q.value="")},Oe=()=>{B.value=!1,m.value=""},Ge=()=>{j.value.length!==0&&(K.value=!K.value)},He=a=>{q.value=a,K.value=!1},pe=a=>{const d=document.querySelector(".custom-select");d&&!d.contains(a.target)&&(K.value=!1)},Xe=async()=>{if(!J.value||!q.value){m.value=n("validation.required",{field:n("invite.withdraw.account")});return}const a=parseFloat(re.value);if(isNaN(a)||a<=0){m.value=n("invite.withdraw.invalidAmount"),s(m.value,"error");return}if(a>parseFloat(k.availableCommission)){m.value=n("invite.withdraw.insufficientFunds"),s(m.value,"error");return}if(a<Q.value&&Q.value>0){m.value=n("invite.withdraw.belowMinAmount",{amount:A.value+Q.value+te.value}),s(m.value,"error");return}be.value=!0;try{const d=Math.round(a*100),u=await At(d,J.value,q.value);u.data===!0?(J.value="",re.value="",m.value="",G(n("invite.withdraw.success")),await ae(),B.value=!1):(m.value=u.message||n("invite.withdraw.failure"),s(m.value,"error"))}catch(d){console.error("Withdrawal request error:",d),d.response&&d.response.data&&d.response.data.message?m.value=d.response.data.message:d.message?m.value=d.message:m.value=n("invite.withdraw.failure"),s(m.value,"error")}finally{be.value=!1}},le=v(!1),Ye=()=>{typeof window<"u"&&(le.value=window.innerWidth<=768)},Se=()=>{typeof window<"u"&&(le.value=window.innerWidth<=768,ve(()=>{ie.value}))};ot(()=>{Ye(),document.addEventListener("click",pe),document.addEventListener("click",U),typeof window<"u"&&window.addEventListener("resize",Se),ae(),P.value=1,oe(1),Ae(),F.value=S.recordsPerPage||10}),lt(()=>{document.removeEventListener("click",pe),document.removeEventListener("click",U),window.removeEventListener("resize",Se)});const De=v(1),j=v([]),B=v(!1),J=v(""),re=v(""),q=v(""),K=v(!1),m=v(""),be=v(!1),Q=v(0),O=v(null),Ze=()=>{O.value==="withdraw"&&(O.value=null,B.value=!0,ve(()=>{setTimeout(()=>{const a=document.querySelector(".withdraw-card");a&&a.scrollIntoView({behavior:"smooth",block:"center"})},100)}))},je=()=>{O.value==="transfer"&&(O.value=null,N.value=!0,ve(()=>{setTimeout(()=>{const a=document.querySelector(".transfer-card");a&&a.scrollIntoView({behavior:"smooth",block:"center"})},100)}))},G=a=>{s(a,"success")},de=a=>{console.error("Error:",a);const d=a.response?.message||n("common.error");s(d,"error")};return{loading:t,creatingCode:X,inviteCodes:w,selectedCodeIndex:D,inviteStats:k,inviteRecords:L,inviteLink:b,currency:te,currencySymbol:A,copyInviteLink:fe,createInviteCode:me,shareToTelegram:ge,shareToFacebook:Pe,shareToDiscord:Te,refreshRecords:Me,formatDate:Le,getStatusClass:Fe,getStatusText:ze,showConfirmModal:Z,confirmModalMessage:_e,confirmAction:g,cancelConfirmation:V,prevInviteCode:We,nextInviteCode:Re,formatCodeDate:Be,showTransferCardState:N,transferAmount:T,transferError:z,transferLoading:we,isTransferDisabled:Ee,toggleTransferCard:Ue,confirmTransfer:Ne,withdrawClose:De,withdrawMethods:j,showWithdrawCard:B,withdrawAccount:J,withdrawAmount:re,selectedWithdrawMethod:q,showMethodDropdown:K,withdrawError:m,withdrawLoading:be,minWithdrawAmount:Q,toggleWithdrawCard:qe,closeWithdrawCard:Oe,toggleMethodDropdown:Ge,selectWithdrawMethod:He,submitWithdraw:Xe,onTransferCardHidden:Ze,onWithdrawCardHidden:je,handleSuccess:G,handleError:de,t:n,currentPage:P,pageSize:F,totalRecords:W,paginatedRecords:he,handlePageChange:ue,totalPages:p,displayPageNumbers:ie,pageSizeOptions:ne,showPageSizeDropdown:R,togglePageSizeDropdown:Y,selectPageSize:se,closePageSizeDropdownOnClickOutside:U,isMobile:le,inviteConfig:S}}},Rt={class:"account-container"},Bt={key:0,class:"custom-modal"},Et={class:"modal-container"},Ut={class:"modal-header"},Vt={class:"modal-body"},Nt={class:"modal-footer"},qt={class:"account-inner"},Ot={class:"dashboard-card welcome-card"},Gt={class:"card-header"},Ht={class:"card-title"},Xt={class:"card-body"},Yt={class:"stats-grid"},Zt={class:"stats-card"},jt={class:"stats-icon"},Jt={class:"stats-info"},Kt={class:"stats-value"},Qt={class:"stats-label"},xt={class:"stats-card"},$t={class:"stats-icon"},en={class:"stats-info"},tn={class:"stats-value"},nn={class:"stats-label"},sn={class:"stats-card"},an={class:"stats-icon"},on={class:"stats-info"},ln={class:"stats-value"},rn={class:"stats-label"},dn={class:"stats-card"},cn={class:"stats-icon"},vn={class:"stats-info"},hn={class:"stats-value"},un={class:"stats-label"},mn={class:"dashboard-card"},fn={class:"card-header"},_n={class:"card-title"},gn={class:"card-body"},wn={class:"rules-grid"},bn={class:"rule-item"},Cn={class:"rule-icon"},kn={class:"rule-content"},yn={class:"rule-item"},In={class:"rule-icon"},pn={class:"rule-content"},Sn={class:"rule-item"},Dn={class:"rule-icon"},Pn={class:"rule-content"},Tn={class:"rule-item"},Mn={class:"rule-icon"},Ln={class:"rule-content"},Fn={class:"dashboard-card balance-card"},zn={class:"card-header"},An={class:"card-title"},Wn={key:0,class:"card-body skeleton-loading"},Rn={key:1,class:"card-body"},Bn={class:"balance-container"},En={class:"balance-info"},Un={class:"balance-label"},Vn={class:"balance-value"},Nn={class:"balance-description"},qn={class:"balance-actions"},On={class:"modal-header"},Gn={class:"modal-body"},Hn={class:"alert alert-warning"},Xn={class:"alert-content"},Yn={class:"alert-title"},Zn={class:"alert-desc"},jn={class:"transfer-form"},Jn={class:"form-group"},Kn={class:"form-label"},Qn={class:"input-with-prefix"},xn={class:"input-prefix"},$n=["placeholder","max"],es={class:"form-hint"},ts={key:0,class:"error-message"},ns={class:"modal-footer"},ss=["disabled"],is={key:0,class:"loader"},as={key:1},os={class:"modal-header"},ls={class:"modal-body"},rs={key:0,class:"alert alert-warning"},ds={class:"alert-content"},cs={class:"alert-title"},vs={class:"alert-desc"},hs={key:1,class:"alert alert-warning"},us={class:"alert-content"},ms={class:"alert-title"},fs={class:"alert-desc"},_s={key:2,class:"transfer-form"},gs={class:"form-group"},ws={class:"form-label"},bs={class:"withdraw-methods"},Cs=["onClick"],ks={class:"form-group"},ys={class:"form-label"},Is={class:"input-with-prefix account-input"},ps=["placeholder"],Ss={class:"form-group"},Ds={class:"form-label"},Ps={class:"input-with-prefix"},Ts={class:"input-prefix"},Ms=["placeholder","max"],Ls={class:"form-hint"},Fs={key:0,class:"min-withdraw-hint"},zs={key:0,class:"error-message"},As={class:"modal-footer"},Ws=["disabled"],Rs={key:0,class:"loader"},Bs={key:1},Es={class:"dashboard-card"},Us={class:"card-header"},Vs={class:"card-title"},Ns={class:"card-actions"},qs=["disabled"],Os={key:0,class:"loading-icon"},Gs={key:0,class:"card-body skeleton-loading"},Hs={key:1,class:"card-body"},Xs={class:"invite-codes-wrapper"},Ys={class:"invite-cards-container"},Zs={class:"invite-cards-wrapper"},js=["onClick"],Js={class:"invite-card-inner"},Ks={class:"invite-card-header"},Qs={class:"invite-card-title"},xs={class:"invite-card-body"},$s={class:"invite-code-display"},ei={class:"invite-card-footer"},ti={class:"card-label"},ni={class:"invite-card-date"},si={key:0,class:"invite-cards-indicators"},ii=["onClick"],ai={class:"invite-link-wrapper"},oi={class:"input-with-icon"},li=["value","placeholder"],ri={class:"share-buttons mt-3"},di={key:1,class:"no-invite-code"},ci=["disabled"],vi={key:0,class:"loading-icon"},hi={key:1,class:"create-btn-content"},ui={class:"dashboard-card"},mi={class:"card-header"},fi={class:"card-title"},_i={class:"card-actions"},gi=["disabled"],wi={key:0,class:"card-body skeleton-loading"},bi={class:"skeleton-table"},Ci={key:1,class:"card-body"},ki={class:"records-table-wrapper"},yi={class:"records-table"},Ii={key:0,class:"pagination-controls"},pi=["disabled"],Si={class:"page-numbers"},Di=["disabled"],Pi={key:1,class:"page-ellipsis"},Ti=["onClick","disabled"],Mi={key:2,class:"page-ellipsis"},Li=["disabled"],Fi=["disabled"],zi={class:"page-size-container"},Ai={class:"select-value"},Wi={class:"select-icon"},Ri={key:0,class:"select-dropdown"},Bi=["onClick"],Ei={key:1,class:"empty-records"};function Ui(s,n,S,t,X,te){const A=h("IconX"),w=h("IconUsers"),D=h("IconCoin"),k=h("IconWallet"),L=h("IconChartBar"),P=h("IconShare"),F=h("IconUserPlus"),W=h("IconShoppingCart"),ne=h("IconCash"),R=h("IconReceipt"),Y=h("IconAlertTriangle"),se=h("IconPlus"),U=h("IconChevronLeft"),he=h("IconTicket"),p=h("IconChevronRight"),ie=h("IconLink"),ue=h("IconCopy"),b=h("IconBrandTelegram"),me=h("IconBrandFacebook"),fe=h("IconBrandDiscord"),Z=h("IconRefresh"),_e=h("IconChevronDown");return l(),r("div",Rt,[c(ce,{name:"modal"},{default:x(()=>[t.showConfirmModal?(l(),r("div",Bt,[e("div",{class:"modal-overlay",onClick:n[0]||(n[0]=(...o)=>t.cancelConfirmation&&t.cancelConfirmation(...o))}),e("div",Et,[e("div",Ut,[e("h3",null,i(s.$t("invite.confirm.title")),1),e("button",{class:"modal-close",onClick:n[1]||(n[1]=(...o)=>t.cancelConfirmation&&t.cancelConfirmation(...o))},[c(A)])]),e("div",Vt,[e("p",null,i(t.confirmModalMessage),1)]),e("div",Nt,[e("button",{class:"btn-outline cancel-btn",onClick:n[2]||(n[2]=(...o)=>t.cancelConfirmation&&t.cancelConfirmation(...o))},i(s.$t("invite.confirm.cancel")),1),e("button",{class:"btn-primary confirm-btn",onClick:n[3]||(n[3]=(...o)=>t.confirmAction&&t.confirmAction(...o))},i(s.$t("invite.confirm.confirm")),1)])])])):_("",!0)]),_:1}),e("div",qt,[e("div",Ot,[e("div",Gt,[e("h2",Ht,i(s.$t("invite.title")),1)]),e("div",Xt,[e("p",null,i(s.$t("invite.description")),1)])]),e("div",Yt,[t.loading.inviteData?(l(),r(C,{key:0},M(4,o=>e("div",{key:o,class:"stats-card skeleton-card"},[...n[33]||(n[33]=[e("div",{class:"skeleton-icon"},null,-1),e("div",{class:"skeleton-content"},[e("div",{class:"skeleton-row-sm"}),e("div",{class:"skeleton-row-xs"})],-1)])])),64)):(l(),r(C,{key:1},[e("div",Zt,[e("div",jt,[c(w,{size:32})]),e("div",Jt,[e("div",Kt,i(t.inviteStats.registeredUsers),1),e("div",Qt,i(s.$t("invite.stats.registeredUsers")),1)])]),e("div",xt,[e("div",$t,[c(D,{size:32})]),e("div",en,[e("div",tn,i(t.currencySymbol)+i(t.inviteStats.pendingCommission),1),e("div",nn,i(s.$t("invite.stats.pendingCommission")),1)])]),e("div",sn,[e("div",an,[c(k,{size:32})]),e("div",on,[e("div",ln,i(t.currencySymbol)+i(t.inviteStats.availableCommission),1),e("div",rn,i(s.$t("invite.stats.availableCommission")),1)])]),e("div",dn,[e("div",cn,[c(L,{size:32})]),e("div",vn,[e("div",hn,i(t.inviteStats.commissionRate)+"%",1),e("div",un,i(s.$t("invite.stats.commissionRate")),1)])])],64))]),e("div",mn,[e("div",fn,[e("h2",_n,i(s.$t("invite.rules.title")),1)]),e("div",gn,[e("div",wn,[e("div",bn,[e("div",Cn,[c(P,{size:24})]),e("div",kn,[e("h3",null,i(s.$t("invite.rules.share.title")),1),e("p",null,i(s.$t("invite.rules.share.desc")),1)])]),e("div",yn,[e("div",In,[c(F,{size:24})]),e("div",pn,[e("h3",null,i(s.$t("invite.rules.register.title")),1),e("p",null,i(s.$t("invite.rules.register.desc")),1)])]),e("div",Sn,[e("div",Dn,[c(W,{size:24})]),e("div",Pn,[e("h3",null,i(s.$t("invite.rules.purchase.title")),1),e("p",null,i(s.$t("invite.rules.purchase.desc")),1)])]),e("div",Tn,[e("div",Mn,[c(ne,{size:24})]),e("div",Ln,[e("h3",null,i(s.$t("invite.rules.commission.title")),1),e("p",null,i(s.$t("invite.rules.commission.desc",{rate:t.inviteStats.commissionRate})),1)])])])])]),e("div",Fn,[e("div",zn,[e("h2",An,i(s.$t("invite.balance.title")),1)]),t.loading.inviteData?(l(),r("div",Wn,[...n[34]||(n[34]=[e("div",{class:"skeleton-row"},null,-1),e("div",{class:"skeleton-row"},null,-1)])])):(l(),r("div",Rn,[e("div",Bn,[e("div",En,[e("div",Un,i(s.$t("invite.balance.available")),1),e("div",Vn,i(t.currencySymbol)+i(t.inviteStats.availableCommission),1),e("div",Nn,i(s.$t("invite.balance.description")),1)]),e("div",qn,[e("button",{class:"btn-primary",onClick:n[4]||(n[4]=(...o)=>t.toggleTransferCard&&t.toggleTransferCard(...o))},[c(ne,{class:"btn-icon"}),y(" "+i(s.$t("invite.balance.transferToBalance")),1)]),t.withdrawClose===0?(l(),r("button",{key:0,class:"btn-primary withdraw-btn",onClick:n[5]||(n[5]=(...o)=>t.toggleWithdrawCard&&t.toggleWithdrawCard(...o))},[c(R,{class:"btn-icon"}),y(" "+i(s.$t("invite.balance.withdraw")),1)])):_("",!0)])])]))]),c(ce,{name:"modal-fade"},{default:x(()=>[t.showTransferCardState?(l(),r("div",{key:0,class:"modal-overlay",onClick:n[11]||(n[11]=o=>t.showTransferCardState=!1)},[e("div",{class:"modal-content",onClick:n[10]||(n[10]=ke(()=>{},["stop"]))},[e("div",On,[e("h3",null,i(s.$t("invite.transfer.title")),1),e("button",{class:"modal-close",onClick:n[6]||(n[6]=o=>t.showTransferCardState=!1)},[c(A,{size:20})])]),e("div",Gn,[e("div",Hn,[c(Y,{size:22,class:"alert-icon"}),e("div",Xn,[e("div",Yn,i(s.$t("invite.transfer.warning")),1),e("div",Zn,i(s.$t("invite.transfer.warningDesc")),1)])]),e("div",jn,[e("div",Jn,[e("label",Kn,i(s.$t("invite.transfer.amount")),1),e("div",Qn,[e("div",xn,i(t.currencySymbol),1),ye(e("input",{type:"number","onUpdate:modelValue":n[7]||(n[7]=o=>t.transferAmount=o),class:"form-control",placeholder:s.$t("invite.transfer.amountPlaceholder"),min:"0",max:t.inviteStats.availableCommission,step:"0.01"},null,8,$n),[[Ie,t.transferAmount]])]),e("div",es,i(s.$t("invite.transfer.availableCommission"))+": "+i(t.currencySymbol)+i(t.inviteStats.availableCommission),1),t.transferError?(l(),r("div",ts,i(t.transferError),1)):_("",!0)])])]),e("div",ns,[e("button",{class:"btn-cancel",onClick:n[8]||(n[8]=o=>t.showTransferCardState=!1)},i(s.$t("common.cancel")),1),e("button",{class:"btn-submit",onClick:n[9]||(n[9]=(...o)=>t.confirmTransfer&&t.confirmTransfer(...o)),disabled:t.isTransferDisabled||t.transferLoading},[t.transferLoading?(l(),r("div",is)):(l(),r("span",as,i(s.$t("invite.transfer.confirm")),1))],8,ss)])])])):_("",!0)]),_:1}),c(ce,{name:"modal-fade"},{default:x(()=>[t.showWithdrawCard?(l(),r("div",{key:0,class:"modal-overlay",onClick:n[18]||(n[18]=o=>t.closeWithdrawCard())},[e("div",{class:"modal-content",onClick:n[17]||(n[17]=ke(()=>{},["stop"]))},[e("div",os,[e("h3",null,i(s.$t("invite.withdraw.title")),1),e("button",{class:"modal-close",onClick:n[12]||(n[12]=o=>t.closeWithdrawCard())},[c(A,{size:20})])]),e("div",ls,[t.withdrawMethods.length===0?(l(),r("div",rs,[c(Y,{size:22,class:"alert-icon"}),e("div",ds,[e("div",cs,i(s.$t("invite.withdraw.tip")),1),e("div",vs,i(s.$t("invite.withdraw.noPlatforms")),1)])])):parseFloat(t.inviteStats.availableCommission)<=0?(l(),r("div",hs,[c(Y,{size:22,class:"alert-icon"}),e("div",us,[e("div",ms,i(s.$t("invite.withdraw.tip")),1),e("div",fs,i(s.$t("invite.withdraw.insufficientFunds")),1)])])):(l(),r("div",_s,[e("div",gs,[e("label",ws,i(s.$t("invite.withdraw.platform")),1),e("div",bs,[(l(!0),r(C,null,M(t.withdrawMethods,(o,g)=>(l(),r("button",{key:g,class:I(["withdraw-method",{active:t.selectedWithdrawMethod===o}]),onClick:V=>t.selectWithdrawMethod(o)},i(o),11,Cs))),128))])]),e("div",ks,[e("label",ys,i(s.$t("invite.withdraw.account")),1),e("div",Is,[ye(e("input",{type:"text","onUpdate:modelValue":n[13]||(n[13]=o=>t.withdrawAccount=o),class:"form-control",placeholder:s.$t("invite.withdraw.accountPlaceholder")},null,8,ps),[[Ie,t.withdrawAccount]])])]),e("div",Ss,[e("label",Ds,i(s.$t("invite.withdraw.amount")),1),e("div",Ps,[e("div",Ts,i(t.currencySymbol),1),ye(e("input",{type:"number","onUpdate:modelValue":n[14]||(n[14]=o=>t.withdrawAmount=o),class:"form-control",placeholder:s.$t("invite.withdraw.amountPlaceholder"),min:"0",max:t.inviteStats.availableCommission,step:"0.01"},null,8,Ms),[[Ie,t.withdrawAmount]])]),e("div",Ls,[y(i(s.$t("invite.withdraw.availableCommission"))+": "+i(t.currencySymbol)+i(t.inviteStats.availableCommission)+" ",1),t.minWithdrawAmount>0?(l(),r("span",Fs," ("+i(s.$t("invite.withdraw.minWithdrawAmount"))+": "+i(t.currencySymbol)+i(t.minWithdrawAmount)+") ",1)):_("",!0)])]),t.withdrawError&&t.withdrawError!==t.t("invite.withdraw.insufficientFunds")?(l(),r("div",zs,i(t.withdrawError),1)):_("",!0)]))]),e("div",As,[e("button",{class:"btn-cancel",onClick:n[15]||(n[15]=(...o)=>t.closeWithdrawCard&&t.closeWithdrawCard(...o))},i(s.$t("common.cancel")),1),e("button",{class:"btn-submit",onClick:n[16]||(n[16]=(...o)=>t.submitWithdraw&&t.submitWithdraw(...o)),disabled:!t.withdrawAccount||!t.selectedWithdrawMethod||t.withdrawLoading||parseFloat(t.inviteStats.availableCommission)<=0},[t.withdrawLoading?(l(),r("div",Rs)):(l(),r("span",Bs,i(s.$t("invite.withdraw.confirm")),1))],8,Ws)])])])):_("",!0)]),_:1}),e("div",Es,[e("div",Us,[e("h2",Vs,i(s.$t("invite.inviteLink.title")),1),e("div",Ns,[e("button",{class:"btn-action",onClick:n[19]||(n[19]=(...o)=>t.createInviteCode&&t.createInviteCode(...o)),disabled:t.creatingCode},[t.creatingCode?(l(),r("div",Os)):(l(),tt(se,{key:1,class:"action-icon"})),y(" "+i(t.creatingCode?s.$t("invite.inviteLink.creating"):s.$t("invite.inviteLink.createCode")),1)],8,qs)])]),t.loading.inviteData?(l(),r("div",Gs,[...n[35]||(n[35]=[e("div",{class:"skeleton-row"},null,-1),e("div",{class:"skeleton-row"},null,-1)])])):(l(),r("div",Hs,[t.inviteCodes.length>0?(l(),r(C,{key:0},[e("div",Xs,[e("div",Ys,[t.inviteCodes.length>1?(l(),r("div",{key:0,class:"invite-cards-nav prev",onClick:n[20]||(n[20]=(...o)=>t.prevInviteCode&&t.prevInviteCode(...o))},[c(U)])):_("",!0),e("div",Zs,[c(nt,{name:"invite-card",tag:"div",class:"invite-cards"},{default:x(()=>[(l(!0),r(C,null,M(t.inviteCodes,(o,g)=>(l(),r("div",{key:o.id||"invite-code-"+g,class:I(["invite-card",{active:t.selectedCodeIndex===g,prev:g<t.selectedCodeIndex,next:g>t.selectedCodeIndex}]),onClick:V=>t.selectedCodeIndex=g},[e("div",Js,[n[36]||(n[36]=e("div",{class:"card-shine"},null,-1)),n[37]||(n[37]=e("div",{class:"card-decoration"},null,-1)),e("div",Ks,[e("div",Qs,[c(he,{class:"card-icon"}),y(" "+i(s.$t("invite.inviteLink.inviteCode"))+" "+i(g+1),1)])]),e("div",xs,[e("div",$s,[(l(!0),r(C,null,M(o.code,(V,ge)=>(l(),r("span",{key:ge,class:"code-char"},i(V),1))),128))])]),e("div",ei,[e("div",ti,i(s.$t("invite.inviteLink.scanDescription")),1),e("div",ni,i(s.$t("invite.inviteLink.createdAt",{date:t.formatCodeDate(o.created_at)})),1)])])],10,js))),128))]),_:1})]),t.inviteCodes.length>1?(l(),r("div",{key:1,class:"invite-cards-nav next",onClick:n[21]||(n[21]=(...o)=>t.nextInviteCode&&t.nextInviteCode(...o))},[c(p)])):_("",!0)]),t.inviteCodes.length>1?(l(),r("div",si,[(l(!0),r(C,null,M(t.inviteCodes,(o,g)=>(l(),r("span",{key:o.id,class:I(["indicator",{active:t.selectedCodeIndex===g}]),onClick:V=>t.selectedCodeIndex=g},null,10,ii))),128))])):_("",!0),e("div",ai,[e("div",oi,[c(ie,{class:"input-icon"}),e("input",{type:"text",class:"invite-link",value:t.inviteLink,readonly:"",placeholder:s.$t("invite.inviteLink.placeholder")},null,8,li)]),e("button",{class:"btn-primary",onClick:n[22]||(n[22]=(...o)=>t.copyInviteLink&&t.copyInviteLink(...o))},[c(ue,{class:"btn-icon"}),y(" "+i(s.$t("invite.inviteLink.copyLink")),1)])])]),e("div",ri,[e("button",{class:"btn-outline telegram-btn",onClick:n[23]||(n[23]=(...o)=>t.shareToTelegram&&t.shareToTelegram(...o))},[c(b,{class:"btn-icon"}),y(" "+i(s.$t("invite.share.telegram")),1)]),e("button",{class:"btn-outline facebook-btn",onClick:n[24]||(n[24]=(...o)=>t.shareToFacebook&&t.shareToFacebook(...o))},[c(me,{class:"btn-icon"}),y(" "+i(s.$t("invite.share.facebook")),1)]),e("button",{class:"btn-outline discord-btn",onClick:n[25]||(n[25]=(...o)=>t.shareToDiscord&&t.shareToDiscord(...o))},[c(fe,{class:"btn-icon"}),y(" "+i(s.$t("invite.share.discord")),1)])])],64)):(l(),r("div",di,[e("p",null,i(s.$t("invite.inviteLink.noInviteCode")),1),e("button",{class:"btn-primary create-code-btn",onClick:n[26]||(n[26]=(...o)=>t.createInviteCode&&t.createInviteCode(...o)),disabled:t.creatingCode},[t.creatingCode?(l(),r("div",vi)):(l(),r("span",hi,[c(se,{class:"btn-icon"}),y(" "+i(s.$t("invite.inviteLink.createCode")),1)]))],8,ci)]))]))]),e("div",ui,[e("div",mi,[e("h2",fi,i(s.$t("invite.records.title")),1),e("div",_i,[e("button",{class:"btn-action",onClick:n[27]||(n[27]=(...o)=>t.refreshRecords&&t.refreshRecords(...o)),disabled:t.loading.inviteDetails},[c(Z,{class:I(["action-icon",{spin:t.loading.inviteDetails}])},null,8,["class"]),y(" "+i(t.loading.inviteDetails?s.$t("invite.records.refreshing"):s.$t("invite.records.refresh")),1)],8,gi)])]),t.loading.inviteDetails?(l(),r("div",wi,[e("div",bi,[n[39]||(n[39]=st('<div class="skeleton-header-row" data-v-62a09a3d><div class="skeleton-header-cell" data-v-62a09a3d></div><div class="skeleton-header-cell" data-v-62a09a3d></div><div class="skeleton-header-cell" data-v-62a09a3d></div><div class="skeleton-header-cell" data-v-62a09a3d></div></div>',1)),(l(),r(C,null,M(3,o=>e("div",{key:o,class:"skeleton-row-full"},[...n[38]||(n[38]=[e("div",{class:"skeleton-cell"},null,-1),e("div",{class:"skeleton-cell"},null,-1),e("div",{class:"skeleton-cell"},null,-1),e("div",{class:"skeleton-cell"},null,-1)])])),64))])])):(l(),r("div",Ci,[e("div",ki,[t.inviteRecords.length>0?(l(),r(C,{key:0},[e("table",yi,[e("thead",null,[e("tr",null,[e("th",null,i(s.$t("invite.records.registerTime")),1),e("th",null,i(s.$t("invite.records.amount")),1),e("th",null,i(s.$t("invite.records.commission")),1),e("th",null,i(s.$t("invite.records.status.title")),1)])]),e("tbody",null,[(l(!0),r(C,null,M(t.paginatedRecords,o=>(l(),r("tr",{key:o.id},[e("td",null,i(t.formatDate(o.created_at)),1),e("td",null,i(t.currencySymbol)+i(o.amount||"0.00"),1),e("td",null,i(t.currencySymbol)+i(o.commission_amount),1),e("td",null,[e("span",{class:I(["status-badge",o.commission_status===1?"confirmed":"pending"])},i(o.commission_status===1?s.$t("invite.records.status.confirmed"):s.$t("invite.records.status.pending")),3)])]))),128))])]),t.totalPages>1?(l(),r("div",Ii,[e("button",{class:"page-btn prev-btn",onClick:n[28]||(n[28]=o=>t.handlePageChange(t.currentPage-1)),disabled:t.currentPage===1||t.loading.inviteDetails},[c(U,{size:"16"})],8,pi),e("div",Si,[t.totalPages>4&&t.currentPage>3&&!t.isMobile?(l(),r("button",{key:0,class:I(["page-btn",{active:t.currentPage===1}]),onClick:n[29]||(n[29]=o=>t.handlePageChange(1)),disabled:t.loading.inviteDetails}," 1 ",10,Di)):_("",!0),t.totalPages>4&&t.currentPage>3&&!t.isMobile?(l(),r("span",Pi,"...")):_("",!0),(l(!0),r(C,null,M(t.displayPageNumbers,o=>(l(),r("button",{key:"page-"+o,class:I(["page-btn",{active:t.currentPage===o}]),onClick:g=>t.handlePageChange(o),disabled:t.loading.inviteDetails},i(o),11,Ti))),128)),t.totalPages>4&&t.currentPage<t.totalPages-2&&!t.isMobile?(l(),r("span",Mi,"...")):_("",!0),t.totalPages>4&&t.currentPage<t.totalPages-2&&!t.isMobile?(l(),r("button",{key:3,class:I(["page-btn",{active:t.currentPage===t.totalPages}]),onClick:n[30]||(n[30]=o=>t.handlePageChange(t.totalPages)),disabled:t.loading.inviteDetails},i(t.totalPages),11,Li)):_("",!0)]),e("button",{class:"page-btn next-btn",onClick:n[31]||(n[31]=o=>t.handlePageChange(t.currentPage+1)),disabled:t.currentPage===t.totalPages||t.loading.inviteDetails},[c(p,{size:"16"})],8,Fi),e("div",zi,[e("div",{class:I(["page-size-selector",{disabled:t.loading.inviteDetails}]),onClick:n[32]||(n[32]=(...o)=>t.togglePageSizeDropdown&&t.togglePageSizeDropdown(...o))},[e("div",Ai,i(t.pageSize),1),e("div",Wi,[c(_e,{class:I({"rotate-180":t.showPageSizeDropdown})},null,8,["class"])]),c(ce,{name:"fade"},{default:x(()=>[t.showPageSizeDropdown?(l(),r("div",Ri,[(l(!0),r(C,null,M(t.pageSizeOptions,o=>(l(),r("div",{key:o,class:I(["select-option",{selected:o===t.pageSize}]),onClick:ke(g=>t.selectPageSize(o),["stop"])},i(o),11,Bi))),128))])):_("",!0)]),_:1})],2)])])):_("",!0)],64)):(l(),r("div",Ei,[e("p",null,i(s.$t("invite.records.noRecords")),1)]))])]))])])])}const $i=Qe(Wt,[["render",Ui],["__scopeId","data-v-62a09a3d"]]);export{$i as default};
